{% extends "peptitions/main.html" %}
{% load crispy_forms_tags %}
{% block content %}
<main class="flex-1 px-6">

  <!-- Header -->
  <div class="flex items-center justify-between mb-6">
    <h2 class="text-2xl font-semibold">All Users</h2>
    
  </div>

  <!-- Table -->
  <div class="bg-white shadow rounded-lg overflow-hidden">
    <table class="w-full border-collapse">
      <thead class="bg-gray-100">
        <tr>
          <th class="p-3 text-left text-sm font-semibold text-gray-600">#</th>
          <th class="p-3 text-left text-sm font-semibold text-gray-600">Name</th>
          <th class="p-3 text-left text-sm font-semibold text-gray-600">Email</th>
          <th class="p-3 text-left text-sm font-semibold text-gray-600">Joined At</th>
          <th class="p-3 text-left text-sm font-semibold text-gray-600">Actions</th>
        </tr>
      </thead>
        <tbody>
            {% for user in users %}
                {% if not user.is_superuser %}
                <tr class="border-b">
                <td class="p-3">{{ forloop.counter }}</td>
                <td class="p-3">{{ user.first_name }} {{ user.last_name }}</td>
                <td class="p-3">{{ user.email }}</td>
                <td class="p-3">{{ user.created_at|date:"M d, Y" }}</td>
                <td class="p-3 flex gap-2">
    
                    <a href="{% url 'delete-user' user.id %}" class="text-white border rounded-full bg-red-600 p-2"
                    onclick="return confirm('Are you sure you want to delete this user?');">
                    Delete
                    </a>
                </td>
                </tr>
                {% endif %}
            {% empty %}
                <tr>
                <td colspan="5" class="p-3 text-center text-gray-500">No users found</td>
                </tr>
            {% endfor %}
        </tbody>

    </table>
  </div>

  

</main>


{% endblock %}
